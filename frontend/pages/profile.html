<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />

<h1 class="pt-5 px-5 pb-0 welcome-title">Welcome, [ User ]</h1>
<ul class="nav nav-pills mb-3 px-5 pt-4" id="pills-tab" role="tablist">
  <li class="nav-item" role="presentation">
    <button
      class="nav-link active"
      id="pills-profile-tab"
      data-bs-toggle="pill"
      data-bs-target="#pills-profile"
      type="button"
      role="tab"
      aria-controls="pills-profile"
      aria-selected="true"
    >
      Profile
    </button>
  </li>
  <li class="nav-item" role="presentation">
    <button
      class="nav-link"
      id="pills-favourites-tab"
      data-bs-toggle="pill"
      data-bs-target="#pills-favourites"
      type="button"
      role="tab"
      aria-controls="pills-favourites"
      aria-selected="false"
    >
      Favourites
    </button>
  </li>
  <li class="nav-item" role="presentation">
    <button
      class="nav-link"
      id="pills-history-tab"
      data-bs-toggle="pill"
      data-bs-target="#pills-history"
      type="button"
      role="tab"
      aria-controls="pills-history"
      aria-selected="false"
    >
      Purchase History
    </button>
  </li>
</ul>

<div class="tab-content px-5 pb-5" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
    <div class="d-flex gap-3">
      <img src="assets/img/profileM.jpg" alt="" />
      <div>
        <h5>[ First Name + Last Name ]</h5>
        <h5>[ Email ]</h5>
        <h5>Role: [ Role ]</h5>
      </div>
    </div>
  </div>

  <div class="tab-pane fade" id="pills-favourites" role="tabpanel" aria-labelledby="pills-favourites-tab">
    <table id="favouritesTable" class="display" style="width:100%">
      <thead>
        <tr>
          <th>Image</th>
          <th>Name</th>
          <th>Price</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><img src="assets/img/single-ring.webp" alt="Ring" width="100" height="100" class="object-fit-cover"></td>
          <td>Gold Ring</td>
          <td>200 BAM</td>
          <td><button class="btn btn-danger btn-sm">Remove</button></td>
        </tr>
        <tr>
          <td><img src="assets/img/single-ring.webp" alt="Necklace" width="100" height="100" class="object-fit-cover"></td>
          <td>Silver Necklace</td>
          <td>150 BAM</td>
          <td><button class="btn btn-danger btn-sm">Remove</button></td>
        </tr>
        <tr>
          <td><img src="assets/img/single-ring.webp" alt="Bracelet" width="100" height="100" class="object-fit-cover"></td>
          <td>Diamond Bracelet</td>
          <td>300 BAM</td>
          <td><button class="btn btn-danger btn-sm">Remove</button></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="tab-pane fade" id="pills-history" role="tabpanel" aria-labelledby="pills-history-tab">
  <h2 class="pb-4 total-spent">Total spent: 0 BAM</h2>
  <div id="purchaseHistoryCards" class="d-flex flex-column gap-3">

  </div>
</div>

</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="assets/js/user.js"></script>

<script>
  $(document).ready(function () {
    $('#pills-profile-tab').on('shown.bs.tab', function () {
      if (!$.fn.DataTable.isDataTable('#favouritesTable')) {
        $('#favouritesTable').DataTable();
      }
    });

    $('#pills-contact-tab').on('shown.bs.tab', function () {
      if (!$.fn.DataTable.isDataTable('#purchaseHistoryTable')) {
        $('#purchaseHistoryTable').DataTable();
      }
    });
  });
</script>

<style>
  #purchaseHistoryCards .card {
  border-radius: 8px;
  margin-bottom: 1rem;
}

#purchaseHistoryCards .card-header {
  background-color: #f8f9fa;
  font-size: 1rem;
}

#purchaseHistoryCards .list-group-item {
  border: none;
  padding-left: 0;
  padding-right: 0;
}

</style>